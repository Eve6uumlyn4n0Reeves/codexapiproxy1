# 更新日志

本文档记录了 CodexAPI 项目的所有重要更改。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 计划中
- [ ] 支持更多 AI 模型提供商 (Anthropic, Google)
- [ ] 实时使用量监控仪表板
- [ ] 自动扩缩容支持
- [ ] 多语言界面支持

## [1.2.0] - 2024-01-15

### 新增
- ✅ 完整的 TypeORM 数据库层替换 Supabase
- ✅ 自定义 JWT 认证系统
- ✅ 管理员面板功能完善
- ✅ 系统健康检查端点
- ✅ 详细的 API 使用统计
- ✅ 兑换码批量管理功能
- ✅ 用户余额和套餐管理
- ✅ Docker Compose 一键部署
- ✅ 完整的项目文档

### 改进
- 🔧 优化数据库查询性能
- 🔧 改进错误处理和日志记录
- 🔧 增强 API 安全性验证
- 🔧 优化前端组件性能
- 🔧 改进 Docker 构建效率

### 修复
- 🐛 修复用户注册邮箱验证问题
- 🐛 修复 API 密钥生成重复问题
- 🐛 修复管理员权限检查漏洞
- 🐛 修复统计数据计算错误
- 🐛 修复 Docker 环境变量传递问题

### 移除
- ❌ 移除 Supabase 依赖
- ❌ 移除 next-auth 依赖
- ❌ 移除不必要的第三方库

## [1.1.0] - 2023-12-20

### 新增
- ✅ 兑换码系统实现
- ✅ 用户角色权限管理 (user/admin/super_admin)
- ✅ API 调用统计和分析
- ✅ Redis 缓存支持
- ✅ 请求频率限制
- ✅ 用户使用配额管理
- ✅ 管理员用户管理界面
- ✅ 系统监控仪表板

### 改进
- 🔧 优化 API 响应速度
- 🔧 改进用户界面体验
- 🔧 增强数据库查询效率
- 🔧 完善错误处理机制

### 修复
- 🐛 修复登录状态持久化问题
- 🐛 修复 API 密钥权限验证
- 🐛 修复统计数据显示异常

## [1.0.0] - 2023-11-15

### 新增
- ✅ 基础 OpenAI API 代理功能
- ✅ 用户注册和登录系统
- ✅ API 密钥管理
- ✅ 基本的用户仪表板
- ✅ 简单的管理员功能
- ✅ Docker 容器化支持
- ✅ 基础的使用统计

### 技术栈
- Next.js 14 + React 19
- TypeScript 5.x
- Tailwind CSS 3.x
- Supabase (后续已移除)
- Docker 支持

## [0.9.0] - 2023-10-30

### 新增
- ✅ 项目初始化
- ✅ 基础架构搭建
- ✅ 开发环境配置
- ✅ 基础 UI 组件库

### 开发环境
- 建立开发工作流
- 配置 ESLint 和 Prettier
- 设置 TypeScript 配置
- 初始化 Git 仓库

---

## 版本说明

### 版本号格式
我们使用 [语义化版本](https://semver.org/lang/zh-CN/) 格式：`主版本号.次版本号.修订号`

- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 更改类型
- **新增** (Added)：新功能
- **改进** (Changed)：对现有功能的更改
- **弃用** (Deprecated)：即将移除的功能
- **移除** (Removed)：已移除的功能
- **修复** (Fixed)：错误修复
- **安全** (Security)：安全相关的修复

### 发布周期
- **主版本**：根据需要发布，通常包含重大架构变更
- **次版本**：每月发布，包含新功能和改进
- **修订版本**：每周发布，主要包含错误修复

### 支持政策
- **当前版本**：完全支持，包含新功能和错误修复
- **前一个主版本**：仅提供安全更新和关键错误修复
- **更早版本**：不再提供支持，建议升级

---

有关每个版本的详细信息，请查看 [GitHub Releases](../../releases) 页面。
